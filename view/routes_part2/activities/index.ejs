<!DOCTYPE html>
<html>

<head>
    <title>Activities</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css2?family=Koulen&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../../res_activities/styles.css">
</head>

<body>

    <% function addCommas(x) { %>
        <% var str = x.toString().split("."); %>
            <% str[0] = str[0].replace(/\B(?=(\d{3})+(?!\d))/g, ","); %>
                <% return str.join("."); %>
                    <% } %>

                        <nav class="navbar-my container-fluid">
                            <div class="row">
                                <div class="col-1 nav-buttons">
                                    <a href="/" class="back-button"><i class="fa-solid fa-house"></i></a>
                                </div>
                                <div class="col-10">
                                    <h1>Activities</h1>
                                </div>
                                <div class="col-1">
                                    <a href="addActivity" title="new activity" class="menu-button"><i class="fa-solid fa-plus"></i></a>
                                </div>
                        </nav>                          

                        <div class="container-fluid">
                            <div class="row">
                            <div class="col"></div>
                                <div class="col-2">
                                    <form method="get" id="filters" autocomplete="off" onkeydown="return event.key != 'Enter';">
                                        <label for="month-input">Month: </label><input id="month-input" type="month" name="month" value="<%=queries.month%>" onchange="dateAlert(this)">
                                    </form>
                                </div>
                            <div class="col"></div>
                            </div> 
                        </div>
                                               


                        <div class="container-fluid">
    <div class="row">
                                <div class="col"></div>
                                <div class="col-7">
                                    <table class="table table-bordered main-table text-center" id="main-table">
                                        <tr class="text-center bg-dark" id="first-row">
                                            <th>Date</th>
                                            <th>Title</th>
                                            <th>Total</th>
                                            <th>Details</th>
                                        </tr>

                                        <!-- START BUILDING -->
                                        <% for(var i=0; i<activities.length; i++){ %>


                                            <tr class="<% if(activities[i].activityProfit >= 0){ %>
                                            table-success
                                        <% } else { %>
                                            table-danger
                                        <% } %>">

                                                <td>
                                                    <%= activities[i].activityDate %>
                                                </td>
                                                <td>
                                                    <%= activities[i].activityTitle %>
                                                </td>
                                                <td>
                                                    <b> L.L
                                    <%= addCommas(activities[i].activityProfit) %>
                                        </b>
                                                </td>
                                                <td>
                                                    <a href="details/?activityid=<%= activities[i].activityID %>"><i class="fa-solid fa-circle-question"></i></a>
                                                </td>

                                            </tr>
                                            <% } %>


                                                <tr>

                                                </tr>




                                    </table>
                                </div>
                                <div class="col"></div>
                            </div>
                        </div>
                        




                        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
                        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
                        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
                        <script src="https://kit.fontawesome.com/5853267fcd.js" crossorigin="anonymous"></script>
                        <script src="../../res_activities/dynamic.js"></script>
</body>

</html>